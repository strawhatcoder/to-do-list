<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="stylesheet" href="/css/main.css">
    <title>To Do</title>
  </head>

  <body>
    <div class="add-task">
      <h1>Create New Task</h1>
      <form action="/tasks/new-task" method="POST">
        Task Name:
        <input type="text" name="taskName" id="taskName"><br>
        Note (Optional):
        <input type="text" name="taskNote" id="taskNote"><br>
        <button type="submit">Create Task</button>
      </form>
    </div>
    <br><br>

    <div>
      <% if (tasks) { %>
        <% tasks.forEach(task => { %>
          <hr>
          <div class="task">
            <a href="/tasks/<%= task._id %>">
              <h3 class="task__name"><%= task.name %></h3>
            </a>
            <p class="task__note"><%= task.note %></p>
            <strong class="task__complete">Completed: <%= task.completed ? "Yes" : "No" %></strong>
          </div>
          <hr><br>
        <% }) %>
      <% } else { %>
        <p>No Tasks</p>
      <% } %>
    </div>
  </body>
</html>
